"$schema" = 'https://starship.rs/config-schema.json'

add_newline = true

format = """\
  $os\
  $username\
  $directory\
  $kubernetes\
  $docker_context\
  $python\
  $golang\
  $nodejs\
  $rust\
  $git_branch\
  $git_commit\
  $git_state\
  $git_status\
  $cmd_duration\
  $character\
  """

[character]
success_symbol = "\n[â¯](bold green)"
error_symbol = "\n[âœ–](bold red)"
vimcmd_symbol = "\n[â®](bold yellow)"

[cmd_duration]
min_time = 500
format = '\[[took $duration](bold yellow)\] '

[os]
disabled = false
style = "bg:#a3aed2 fg:#090c0c"

[os.symbols]
Macos = "ğŸ "
Linux = "ğŸ§ "
Windows = "ğŸªŸ "

[username]
disabled = false
show_always = false
style_user = "bold blue"
style_root = "bold red"

[directory]
disabled = false
truncation_length = 8
truncate_to_repo = true
read_only = " ğŸ”’"
home_symbol = " ğŸ "
style = "bold cyan"

[kubernetes]
disabled = false
symbol = "âˆ "
format = '[\[$symbol$context \($namespace\)\]](bold bright-green) '
style = "bold bright-green"

# Only show kubernetes when in a directory with k8s files
detect_files = ['k8s', 'kubernetes', 'kustomization.yaml', 'kustomization.yml', 'skaffold.yaml', 'helmfile.yaml']
detect_folders = ['k8s', 'kubernetes', '.kube']

[docker_context]
disabled = false
symbol = "ğŸ³ "
format = '[\[$symbol$context\]](bold blue) '

[python]
disabled = false
format = '\[[$symbol${pyenv_prefix}(${version})(\($virtualenv\))]($style)\] '
symbol = "ğŸ "
style = "yellow bold"

[golang]
disabled = false
format = '\[[$symbol($version)]($style)\] '
symbol = "ğŸ¹ "
style = "bold cyan"

[nodejs]
disabled = false
format = '\[[$symbol($version)]($style)\] '
symbol = "â¬¢ "
style = "bold green"

[rust]
disabled = false
format = '\[[$symbol($version)]($style)\] '
symbol = "ğŸ¦€ "
style = "bold red"

[git_branch]
disabled = false
symbol = " "
style = "bold purple"

[git_commit]
disabled = false
commit_hash_length = 8
only_detached = false
style = "grey"
tag_symbol = " ğŸ· "

[git_status]
disabled = false
style = "red bold"
conflicted = "ğŸ³"
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
up_to_date = "âœ“"
untracked = "?${count}"
modified = "!${count}"
staged = "+${count}"
renamed = "Â»${count}"
deleted = "âœ˜${count}"

# Disable less useful modules for performance
[aws]
disabled = true

[gcloud]
disabled = true

[env_var]
disabled = true

[memory_usage]
disabled = true

[battery]
disabled = true